<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.test.pds.notice.service.NoticeMapper">
 	<!-- <select id="selectNoticeList"
 			resultType="">
 		SELECT *
		FROM notice
   		INNER JOIN notice_file
    	ON notice.notice_id = notice_file.notice_id 
		WHERE notice.notice_id = #{noticeId}
 	</select> -->
 	
 	<insert id="insertNotice" 
 			parameterType="com.test.pds.notice.service.Notice">
 		<!-- selectKey: 우선 입력한 값의 결과값을 다음 쿼리로 바로 return 시켜줌  -->
 		<selectKey resultType="int" 
 					keyProperty="noticeId" 
 					order="AFTER">
 			<!-- insert후 pk값 얻어옴  -->
 			SELECT LAST_INSERT_ID() 
 		</selectKey>
 		INSERT INTO notice(
 			notice_title
 			, notice_content
 		) 
 		VALUES(
 			#{noticeTitle}
 			, #{noticeContent}
 		)
 	</insert>
</mapper>

